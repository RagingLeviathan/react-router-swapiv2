{"ast":null,"code":"import _classCallCheck from\"/Users/ngraham/Documents/react-router-swapi/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ngraham/Documents/react-router-swapi/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ngraham/Documents/react-router-swapi/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ngraham/Documents/react-router-swapi/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ngraham/Documents/react-router-swapi/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Loader from\"react-loader-spinner\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import uuid from\"uuidv4\";//import { BrowserRouter as Router, Route } from \"react-router-dom\";\n//import { Link } from \"react-router-dom\";\nvar pageNum=1;export var People=/*#__PURE__*/function(_React$Component){_inherits(People,_React$Component);function People(props){var _this;_classCallCheck(this,People);_this=_possibleConstructorReturn(this,_getPrototypeOf(People).call(this));_this.fetchSWAPI=function(){fetch(\"https://swapi.co/api/people/?page=\"+pageNum).then(function(results){return results.json();}).then(function(data){console.log(data);var next=data.next;console.log(\"next is : \",next);//let str = next.slice(13);\n_this.setState({pagination:next});var peoples=data.results.map(function(pic){return React.createElement(Container,{key:uuid()},React.createElement(Row,null,React.createElement(Col,{md:{span:10,offset:1},key:uuid(),className:\"allFilms align-self-center\"},React.createElement(\"h2\",null,pic.name),React.createElement(\"p\",null,\"Height: \",pic.height),React.createElement(\"p\",null,\"Hair Colour: \",pic.hair_color),React.createElement(\"p\",null,\"Eye colour: \",pic.eye_color),React.createElement(\"p\",null,\"Gender: \",pic.gender))));});_this.setState({peoples:peoples});}).catch(function(error){console.log(error.number+\": \"+error.message);}).finally(function(){console.log(\"finished\");});//}\n};_this._isMounted=false;_this.state={peoples:[],page:0,pagination:[]};return _this;}_createClass(People,[{key:\"handlePageNext\",value:function handlePageNext(page){if(this.page===null)this.page=1;this.page=+1;pageNum++;console.log(\"pageNum from handle func is: \"+pageNum);}},{key:\"componentDidMount\",value:function componentDidMount(){this._isMounted=true;this.fetchSWAPI();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"render\",value:function render(){//creates virtual DOM... keep render() pure\nreturn React.createElement(\"div\",{className:\"container1 \"},React.createElement(Loader,{type:\"ThreeDots\",color:\"\",height:100,width:460,offset:100,timeout:4000,className:\"loaderCon col-centered spinz\"}),React.createElement(\"div\",{className:\"container2\"},this.state.peoples));}}]);return People;}(React.Component);/*        <Router>\n            <Link to={\"?page=\" + (this.state.pagination)} onClick={() => this.handlePageNext(this.state.page)}>Next page</Link>\n            </Router>\n            <Route path={\"?page=\" + (this.state.pagination)} component={People} key={uuid()}/>\n            */","map":{"version":3,"sources":["/Users/ngraham/Documents/react-router-swapi/src/components/People.js"],"names":["React","Loader","Container","Row","Col","uuid","pageNum","People","props","fetchSWAPI","fetch","then","results","json","data","console","log","next","setState","pagination","peoples","map","pic","span","offset","name","height","hair_color","eye_color","gender","catch","error","number","message","finally","_isMounted","state","page","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport uuid from \"uuidv4\";\n//import { BrowserRouter as Router, Route } from \"react-router-dom\";\n//import { Link } from \"react-router-dom\";\n\nlet pageNum = 1;\n\nexport class People extends React.Component {\n  constructor(props) {\n    super();\n    this._isMounted = false;\n    this.state = {\n      peoples: [],\n      page: 0,\n      pagination: []\n    };\n  }\n\n  handlePageNext(page) {\n    if (this.page === null) this.page = 1;\n    this.page = +1;\n    pageNum++;\n    console.log(\"pageNum from handle func is: \" + pageNum);\n  }\n\n  fetchSWAPI = () => {\n    fetch(\"https://swapi.co/api/people/?page=\" + pageNum)\n      .then(results => {\n        return results.json();\n      })\n      .then(data => {\n        console.log(data);\n        let next = data.next;\n        console.log(\"next is : \", next);\n        //let str = next.slice(13);\n        this.setState({ pagination: next });\n        let peoples = data.results.map(pic => {\n          return (\n            <Container key={uuid()}>\n              <Row>\n                <Col\n                  md={{ span: 10, offset: 1 }}\n                  key={uuid()}\n                  className=\"allFilms align-self-center\"\n                >\n                  <h2>{pic.name}</h2>\n                  <p>Height: {pic.height}</p>\n                  <p>Hair Colour: {pic.hair_color}</p>\n                  <p>Eye colour: {pic.eye_color}</p>\n                  <p>Gender: {pic.gender}</p>\n                </Col>\n              </Row>\n            </Container>\n          );\n        });\n        this.setState({ peoples: peoples });\n      })\n      .catch(function(error) {\n        console.log(error.number + \": \" + error.message);\n      })\n      .finally(function() {\n        console.log(\"finished\");\n      });\n    //}\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.fetchSWAPI();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    //creates virtual DOM... keep render() pure\n    return (\n      <div className=\"container1 \">\n        <Loader\n          type=\"ThreeDots\"\n          color=\"\"\n          height={100}\n          width={460}\n          offset={100}\n          timeout={4000}\n          className=\"loaderCon col-centered spinz\"\n        />\n        <div className=\"container2\">{this.state.peoples}</div>\n      </div>\n    );\n  }\n}\n\n/*        <Router>\n            <Link to={\"?page=\" + (this.state.pagination)} onClick={() => this.handlePageNext(this.state.page)}>Next page</Link>\n            </Router>\n            <Route path={\"?page=\" + (this.state.pagination)} component={People} key={uuid()}/>\n            */\n"]},"metadata":{},"sourceType":"module"}